<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script defer src="js/vue.js"></script>
    <script defer src="js/main.js"></script>
    <link rel="stylesheet" href="css/main.css">
    <title>Note App</title>
</head>
<body>
<div id="app">
    <div class="new-card-form">
        <h2>Создать новую карточку</h2>
        <input v-model="newCardTitle" placeholder="Заголовок карточки" />
        <div v-for="(item, index) in newCardItems" :key="index" class="new-card-item">
            <input v-model="newCardItems[index]" placeholder="Пункт списка" />
            <button @click="removeNewCardItem(index)">Удалить</button>
        </div>
        <button @click="addNewCardItem">Добавить пункт</button>
        <button @click="createCard" :disabled="!isNewCardValid">Создать карточку</button>
    </div>
    <div class="columns">
        <div class="column" :class="{ 'blocked': isFirstColumnBlocked }">
            <h2>Столбец 1 (макс. 3 карточки)</h2>
            <note-card v-for="(card, index) in firstColumnCards" :key="card.id" :card="card" :column="1" @update-card="updateCard" @edit-card="editCard"></note-card>
        </div>
        <div class="column">
            <h2>Столбец 2 (макс. 5 карточек)</h2>
            <note-card v-for="(card, index) in secondColumnCards" :key="card.id" :card="card" :column="2" @update-card="updateCard" @edit-card="editCard"></note-card>
        </div>
        <div class="column">
            <h2>Столбец 3 (без ограничений)</h2>
            <note-card v-for="(card, index) in thirdColumnCards" :key="card.id" :card="card" :column="3" @update-card="updateCard" @edit-card="editCard"></note-card>
        </div>
    </div>
    <div v-if="editingCard" class="modal">
        <div class="modal-content">
            <h2>Редактирование карточки</h2>
            <input v-model="editingCard.title" placeholder="Заголовок" />
            <div v-for="(item, index) in editingCard.items" :key="index" class="edit-card-item">
                <input v-model="editingCard.items[index].text" placeholder="Пункт списка" />
                <button @click="removeEditCardItem(index)">Удалить</button>
            </div>
            <button @click="addEditCardItem">Добавить пункт</button>
            <button @click="saveEditedCard">Сохранить</button>
            <button @click="cancelEdit">Отмена</button>
        </div>
    </div>
</div>
</body>
</html>